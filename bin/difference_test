#!/usr/bin/env ruby

require "rvg/rvg"
include Magick

RVG::dpi = 72

def draw_circle
  RVG.new(2.5.in, 2.5.in).viewbox(0,0,250,250) do |canvas|
    canvas.background_fill = 'white'
    circle = canvas.circle(50).styles(fill: "yellow")
    yield(circle) if block_given?
  end.draw
end
alias :standard :draw_circle

def rotated_15
  draw_circle { |c| c.rotate(15) }
end

def rotated_360
  draw_circle { |c| c.rotate(360) }
end

def slightly_translated
  draw_circle { |c| c.translate(1,1) }
end

def green
  draw_circle { |c| c.styles(fill: "green")}
end

p standard.difference(standard) # => [0.0, 0.0, 0.0]
p standard.difference(rotated_15) # => [0.018165208399295807, 2.678389525234781e-10, 0.0018869628347447929]
p standard.difference(rotated_360) # => [0.0, 0.0, 0.0]
p standard.difference(slightly_translated) # => [26.4636173248291, 0.0002739030632127751, 0.9933167868314641]
p standard.difference(green) # => [813.5169067382812, 0.01026567775153789, 1.0]

standard.write("standard.gif")
rotated_15.write("rotated_15.gif")
rotated_360.write("rotated_360.gif")
slightly_translated.write("slightly_translated.gif")
green.write("green.gif")

